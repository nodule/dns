{
  "name": "dns",
  "description": "DNS components for ChiÏ‡",
  "version": "0.0.3",
  "repository": {
    "type": "git",
    "url": "https://github.com/nodule/dns.git"
  },
  "nodes": [
    {
      "name": "lookup",
      "ns": "dns",
      "description": "Resolves a domain (e.g. 'google.com') into the first found A (IPv4) or AAAA (IPv6) record.",
      "phrases": {
        "active": "Looking up domain name {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string",
            "format": "host",
            "title": "Domain",
            "description": "e.g. 'google.com'"
          },
          "family": {
            "enum": [
              4,
              6
            ],
            "title": "Family",
            "description": "The family can be the integer 4 or 6. Defaults to null that indicates both Ip v4 and v6 address family.",
            "default": null,
            "required": false
          }
        },
        "output": {
          "error": {
            "title": "error",
            "type": "object"
          },
          "address": {
            "type": "string",
            "format": [
              "ipv4",
              "ipv6"
            ],
            "title": "Address",
            "description": "The address is a string representation of a IP v4 or v6 address"
          },
          "family": {
            "enum": [
              4,
              6
            ],
            "title": "Family",
            "description": "Denotes the family of the address"
          }
        }
      },
      "fn": "output = [dns, 'lookup', input.domain, input.family]\n"
    },
    {
      "name": "resolve",
      "ns": "dns",
      "description": "Resolves a domain (e.g. 'google.com') into an array of the record types specified by rrtype.",
      "phrases": {
        "active": "Resolving {{input.rrtype} for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string",
            "format": "host",
            "title": "Domain"
          },
          "rrtype": {
            "enum": [
              "A",
              "AAAA",
              "CNAME",
              "MX",
              "NS",
              "PTR",
              "SRV",
              "TXT"
            ],
            "title": "Resource Record Type",
            "description": "DNS record types stored in the zone files of the Domain Name System (DNS)"
          }
        },
        "output": {
          "error": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolve', input.domain, input.rrtype]\n"
    },
    {
      "name": "resolve4",
      "ns": "dns",
      "description": "Resolves a domain (e.g. 'google.com') into an array of the record types specified by rrtype.",
      "phrases": {
        "active": "Resolving {{input.rrtype}}  for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string",
            "format": "host",
            "title": "Domain"
          },
          "rrtype": {
            "enum": [
              "A",
              "AAAA",
              "CNAME",
              "MX",
              "NS",
              "PTR",
              "SRV",
              "TXT"
            ],
            "title": "Resource Record Type",
            "description": "DNS record types stored in the zone files of the Domain Name System (DNS)"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolve4', input.domain]\n"
    },
    {
      "name": "resolve6",
      "ns": "dns",
      "description": "dns resolve6",
      "phrases": {
        "active": "Resolving {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolve6', input.domain]\n"
    },
    {
      "name": "resolveCname",
      "ns": "dns",
      "description": "dns resolveCname",
      "phrases": {
        "active": "Resolving Canonical Name Record for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolveCname', input.domain]\n"
    },
    {
      "name": "resolveMx",
      "ns": "dns",
      "description": "dns resolveMx",
      "phrases": {
        "active": "Resolving Mail Exchanger Record for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolveMx', input.domain]\n"
    },
    {
      "name": "resolveNs",
      "ns": "dns",
      "description": "dns resolveNs",
      "phrases": {
        "active": "Resolving nameserver record for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolveNs', input.domain]\n"
    },
    {
      "name": "resolveSrv",
      "ns": "dns",
      "description": "dns resolveSrv",
      "phrases": {
        "active": "Resolving Service record for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolveSrv', input.domain]\n"
    },
    {
      "name": "resolveTxt",
      "ns": "dns",
      "description": "dns resolveTxt",
      "phrases": {
        "active": "Resolving Text record for {{input.domain}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "domain": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'resolveTxt', input.domain]\n"
    },
    {
      "name": "reverse",
      "ns": "dns",
      "description": "dns reverse",
      "phrases": {
        "active": "Performing reverse lookup for {{input.ip}}"
      },
      "require": {
        "dns": "latest"
      },
      "ports": {
        "input": {
          "ip": {
            "type": "string"
          }
        },
        "output": {
          "results": {
            "type": "object"
          }
        }
      },
      "fn": "output = [dns, 'reverse', input.ip]\n"
    }
  ],
  "twigs": []
}